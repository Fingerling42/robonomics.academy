---
title: "Μάθημα #1, Θεωρητική Εισαγωγή"
lastUpdate: Thu May 04 2023 12:54:41 GMT+0400 (Samara Standard Time)
description: μάθημα βοηθού σπιτιού
lessonNumber: 1
metaOptions: [Μάθετε, Κυρίαρχο Έξυπνο Σπίτι με το Robonomics και το Home Assistant]
defaultName: Sovereign Smart Home with Robonomics and Home Assistant
---

## Βασικά Στοιχεία του Κυρίαρχου Έξυπνου Σπιτιού 

<List>

1. **[Raspberry Pi](https://www.raspberrypi.org/), ένας μονοπλακές υπολογιστής**.

Μπορούμε να μετατρέψουμε τη συσκευή σε ένα κέντρο IoT μετά την εγκατάσταση όλου του απαραίτητου λογισμικού. Ο κύριος σκοπός του κέντρου είναι να οργανώσει τα πρωτόκολλα, τα δίκτυα, τις εφαρμογές και τις διάφορες συσκευές του έξυπνου σπιτιού.

2. **[Home Assistant](https://www.home-assistant.io/), λογισμικό ελέγχου ανοιχτού κώδικα**.

Σχεδιάστηκε να είναι ένα κεντρικό κέντρο για έξυπνες συσκευές. Μπορεί αυτόματα να σαρώσει το δίκτυο για γνωστές συσκευές και επιτρέπει στους χρήστες να διαμορφώσουν εύκολα όλες τις απαραίτητες αυτοματισμούς. Θα εγκαταστήσουμε το Home Assistant στο Raspberry Pi.

Το Home Assistant επικοινωνεί με τις συσκευές ��αι αποθηκεύει τα δεδομένα τους τοπικά, το οποίο δυστυχώς δεν σας επιτρέπει να ελέγχετε τις συσκευές σας απομακρυσμένα. Για να λύσουμε αυτό το πρόβλημα χρησιμοποιούμε το Δίκτυο Robonomics.

3. **[Δίκτυο Robonomics](https://robonomics.network/), ένα αποκεντρωμένο νέφος για ασφαλή και αξιόπιστο έλεγχο εφαρμογών IoT**.

Χρησιμοποιεί τεχνολογίες web3, οι οποίες ενσωματώνουν αποκέντρωση και τεχνολογίες blockchain για την προστασία έξυπνων συσκευών και των δεδομένων τους.

Η κύρια λειτουργικότητα του Robonomics υλοποιείται με βάση ένα blockchain (parachain) του οικοσυστήματος Polkadot/Kusama. Μεταξύ των κύριων λειτουργιών του parachain είναι η δυνατότητα αποστολής εντολής για εκκίνηση της συσκευής και η δυνατότητα αποθήκευσης των δεδομένων του χρήστη στο blockchain.

Το parachain του Robonomics έχει μια δυνατότητα συνδρομής IoT που επιτρέπει στους χρήστες να στέλνουν συναλλαγές στο parachain, χωρίς χρέωση, για ένα μήνα. Στην πρακτική ενότητα αυτού του μαθήματος, θα χρησιμοποιήσετε τη μέθοδο συνδρομής.

Η αλληλεπίδραση μεταξύ του κέντρου IoT και του parachain του Robonomics επιτυγχάνεται χρησιμοποιώντας το [robonomics-interface](https://github.com/Multi-Agent-io/Robonomics-interface) — βιβλιοθήκη Python που εξειδικεύεται στην αλληλεπίδραση με το Robonomics για εύκολο προγραμματισμό.

4. **[Σύστημα Αρχείων Μεταξύπλανης Επικοινωνίας](https://ipfs.tech/) (IPFS), λογισμικό peer-to-peer για αποθήκευση και κοινοποίηση δεδομένων σε ένα κατανεμημένο σύστημα αρχείων**.

Το IPFS χρειάζεται για να αποφεύγουμε την αποθήκευση μεγάλων αρχείων στο blockchain (καθώς θα ήταν πολύ ακριβό), αλλά αντ' αυτού μπορούμε να αποθηκεύουμε τα hashes IPFS των α��χείων, τα οποία λειτουργούν ως σύνδεσμοι προς αυτά τα αρχεία.

## Πρωτόκολλα για Έξυπνες Συσκευές
Θα χρησιμοποιήσετε δύο κύρια πρωτόκολλα για έξυπνες συσκευές:

1. **[Zigbee](https://csa-iot.org/all-solutions/zigbee/), ένα πρωτόκολλο ασύρματης επικοινωνίας.**

Χρησιμοποιείται πολύ συχνά για τη σύνδεση έξυπνων συσκευών. Είναι σχεδιασμένο για χαμηλή κατανάλωση ενέργειας, ευκολία στη ρύθμιση και ευελιξία στη διαμόρφωση, και υποστηρίζει αυτοοργανωμένα και αυτοανακτώμενα δίκτυα mesh. Χιλιάδες συσκευές είναι διαθέσιμες στην αγορά με υποστήριξη Zigbee, που το καθιστούν πολύ ελκυστικό για τη δημιουργία λύσεων έξυπνου σπιτιού. Για τον έλεγχο συσκευών Zigbee χρειάζεστε ένα πύλη που μεταφέρει δεδομένα μεταξύ του δικτύου Zigbee και ενός άλλου δικτύου (π.χ. Wi-Fi).

2. **[Message Queuing Telemetry Transport](https://mqtt.org/) (MQTT), ένα πρωτόκολλο publish-subscribe σχεδιασμένο για τον έλεγχο εφαρμογών IoT.**

Το πρωτόκολλο είναι ελαφρύ, απαιτεί ελάχιστους πόρους και εξασφαλίζει την αξιοπιστία της παράδοσης μηνυμάτων. Το πρωτόκολλο είναι σχεδιασμένο για χαμηλό εύρος ζώνης, υψηλή καθυστέρηση, αναξιόπιστα δίκτυα, που το καθιστούν μια εξαιρετική επιλογή για τη λειτουργία υψηλών όγκων μηνυμάτων αισθητήρων. Το MQTT απαιτεί έναν διακομιστή που εκτελεί τον μεσίτη MQTT (στην περίπτωσή μας θα λειτουργήσει με το Raspberry Pi μας). Ο μεσίτης λαμβάνει όλα τα μηνύματα από τους πελάτες MQTT και στη συνέχεια δρομολογεί τα μηνύματα στους κατάλληλους συνδρομητές.

## Επιλογές για Σύνδεση Zigbee
Θα εξερευνήσετε δύο σενάρια για τη σύνδεση συσκευών στ�� Home Assistant με το Robonomics.

1. Το πρώτο σενάριο δεν χρησιμοποιεί ξεχωριστή πύλη Zigbee για τη σύνδεση συσκευών. Αντ' αυτού, χρησιμοποιείται μια συνδυασμένη χρήση ενός [προσαρμογέα Zigbee](https://www.zigbee2mqtt.io/guide/adapters/) και του λογισμικού [Zigbee2MQTT](https://www.zigbee2mqtt.io/guide/adapters/).

<LessonImages figure figureCaption="Architectural scheme of the scenario with Zigbee adapter" src="smart-house-course/lesson-1-1.png" alt="Architectural scheme of the scenario with Zigbee adapter"/>

Ένας προσαρμογέας (όπως το JetHome USB JetStick Z2) συνδέεται στο Raspberry Pi και λειτουργεί ως διεπαφή μεταξύ του υπολογιστή και της ασύρματης επικοινωνίας Zigbee. Το Zigbee2MQTT είναι λογισμικό που επιτρέπει τη σύνδεση του Zigbee με δίκτυα MQTT. Λαμβάνει μηνύματα από το δίκτυο Zigbee και τα μεταφράζει σε εύκολα και καλά δομημένα μηνύματα MQTT.

2. Στο δεύτερο σενάριο, οι συσκευές συνδέονται χρησιμοποιώντας την [SLS Gateway](https://github.com/slsys/Gateway) βασισμένη στο μικροελεγκτή ESP32. Για ευκολία χρήσης, η Robonomics έχει αναπτύξει την [δική μας τροποποίηση](https://oshwlab.com/ludovich88/robonomics_sls_gateway_v01) της πύλης.

<LessonImages figure figureCaption="Architectural scheme of the scenario with SLS Gateway" src="smart-house-course/lesson-1-2.png" alt="Architectural scheme of the scenario with SLS Gateway"/>

Η πύλη SLS λειτουργεί ως συντονιστής των μηνυμάτων πρωτοκόλλου Zigbee και επιτρέπει τη χρήση του μεγαλύτερου μέρους του διαθέσιμου εξοπλισμού Zigbee. Για την ενσωμάτωση με το Home Assistant, χρησιμοποιείται το πρωτόκολλο MQTT.

## Απομακρυσμένος Έλεγχος

Ο απομακρυσμένος έλεγχος ενός έξυπνου σπιτιού πραγματοποιείται χρησιμοποιώντας την [αποκεντρωμένη εφαρμογή Robonomics](https://dapp.robonomics.network/) (dapp), η οποία παρέχει πρόσβαση στις λειτουργίες της παρακαταθήκης με φιλικό τρόπο για τον χρήστη. Η ασφάλεια και η αναλλοίωτη φύση των δεδομένων του χρήστη εξασφαλίζεται αφενός με την αποστολή κρυπτογραφημένων δεδομένων στο IPFS (τα οποία μπορούν να αποκρυπτογραφηθούν μόνο από το κλειδί του χρήστη), και αφετέρου με την τοποθέτηση του hash του IPFS αυτών των δεδομένων στη blockchain.

</List>



