---
title: "الدرس #5، إعداد اشتراك Robonomics IoT"
lastUpdate: Thu May 18 2023 10:46:29 GMT+0400 (Samara Standard Time)
description: دورة مساعد المنزل
lessonNumber: 6
metaOptions: [تعلم، المنزل الذكي السيادي مع Robonomics و Home Assistant]
defaultName: Sovereign Smart Home with Robonomics and Home Assistant
---


## ما هذا عن

يتيح اشتراك Robonomics IoT للمستخدمين استخدام جميع وظائف الباراشين لفترة معينة دون دفع رسوم المعاملات القياسية. من خلال تنشيط الاشتراك، ستتمكن الأجهزة من إرسال المعاملات بأولوية.

في هذا الدرس، ستقوم بإنشاء حسابات أمان منزل ذكي ضرورية وشراء اشتراك IoT.

## نظرية

يتم تنفيذ اشتراك IoT، بالإضافة إلى الطريقة التي يتم بها شراؤه وإدارته، باستخدام لوحة <code>rws</code>، التي تحتوي على جميع الوظائف اللازمة. بشكل عام، يتم بيع الاشتراكات في Robonomics باستخدام نموذج مزاد، الذي يستخدم العملية الزائدة <code>rws.startAuction()</code> لإنشاء مزاد لمعرف اشتراك معين. يمكن للمستخدمين الوصول إلى المزاد عن طريق المعرف والمزايدة باستخدام العملية الزائدة <code>rws.bid()</code>.

بعد انتهاء المزاد، يتم تعيين العنوان الذي قدم أعلى عرض للاشتراك. الآن سيتمكن هذا العنوان من إرسال المعاملات من خلال العملية الزائدة <code>rws.call()</code> بدون رسوم. ومع ذلك، هذا لا يعني أن العنوان يمكنه القيام بذلك بشكل غير مراقب في أي وقت: كل اشتراك لديه كمية معينة من قيمة <code>weight</code>، التي يجب تراكمها قبل أن يمكن تنفيذ معاملة مجانية. يتم إضافة بعض قيمة <code>weight</code> إلى الاشتراك في كل كتلة تُولد في الباراشين، ونتيجة لذلك، ينظم Robonomics عرض النطاق الترددي للباراشين.

بالإضافة إلى ذلك، يمكن لمالك الاشتراك استخدام العملية الزائدة <code>rws.setDevices()</code>، التي تشارك استخدام الاشتراك مع العناوين المحددة. في الوقت نفسه، تظل قيمة <code>weight</code> كما هي، لذلك كلما زادت العناوين في الاشتراك، كلما اضطر كل منها إلى الانتظار لفترة أطول قبل إرسال المعاملة المجانية.

للتحكم في Home Assistant باستخدام Robonomics، تحتاج إلى حسابين على باراشين Robonomics. ستوفر هذه الحسابات الأمان لـ Home Assistant الخاص بك.

باستخدام أحد الحسابين (<code>SUB_OWNER</code>)، ستقوم بشراء اشتراك Robonomics. يعمل هذا الحساب كمسؤول رئيسي للاشتراك IoT، ويوفر وصولًا إلى Home Assistant للمستخدمين الآخرين (باستخدام <code>rws.setDevices()</code>). يجب أن يحتوي هذا الحساب على بعض الرموز XRT من أجل إتمام معاملات شراء الاشتراك.

سيتحكم الحساب الثاني (<code>SUB_CONTROLLER</code>) في جميع عمليات Home Assistant للأجهزة (مثل البيانات الوصفية). ستتم إرسال معاملات أجهزتك نيابة عن الحساب <code>SUB_CONTROLLER</code>. ستتمكن أنت (وأي شخص آخر) من رؤية هذه المعاملات في أي مستكشف باراشين مثل [Subscan](https://robonomics.subscan.io/). ومع ذلك، ستتمكن فقط أنت من فك تشفير محتويات هذه المعاملات طالما تمتلك بشكل آمن عبارات البذور اللازمة.

## تعليمات

<List type="numbers">

<li>

إنشاء حسابات باراشين المالك والتحكم

<List>

<li>

<robo-academy-note type="warning" title="WARNING">
يجب إنشاء كلا الحسابين بتشفير ed25519.
</robo-academy-note>

</li>

<li>

انتقل إى [تطبيق باراشين Robonomics](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/) على بوابة Polkadot / Substrate. تحقق من الزاوية اليسرى العلوية للتأكد من أنك متصل بباراشين Robonomics.

</li>

<li>

بسبب استخدام تنسيق *ed25519*، تحتاج إلى إنشاء حساب باستخدام واجهة المستخدم Polkadot-JS واختيار التشفير المطلوب. 

هذه الميزة معطلة افتراضيًا على واجهة المستخدم Polkadot-JS. لتمكينها، انتقل إلى <code>الإعدادات</code> -> <code>عام</code> -> <code>خيارات الحساب</code> وحدد <code>السماح بتخزين الحساب المحلي في المتصفح</code> في القائمة المنسدلة <code>إنشاء حساب في المتصفح</code>.
 
</li>

<li>

انتقل إلى <code>الحسابات</code> -> <code>الحسابات</code> واضغط على زر <code>إضافة حساب</code>. سترى قائمة منبثقة تحتوي على بذرة الحساب. لديها نموذجان: *الكلمات الذاكرية* (قابلة للقراءة من قبل الإنسان) و *الخام* (سلسلة من الأرقام والحروف).

<LessonVideo  :videos="[{src: 'https://crustipfs.info/ipfs/QmQiJYPYajUJXENX2PzSJMSKGSshyWyPNqugSYxP5eCNvm', type:'mp4'}]" />

</li>

<li>

افتح <code>خيارات الإنشاء المتقدمة</code>، غير نوع التشفير لإنشاء الحساب إلى <code>Edwards - ed25519</code>. احفظ عبارة البذرة الذاكرية بشكل آمن واضغط على <code>التاي</code>.

</li>

<li>

في القائمة التالية، تحتاج إلى تعيين اسم الحساب وكلمة المرور. اسمه <code>SUB_OWNER</code> للراحة واضغط على <code>التالي</code>.

</li>

<li>

في النافذة الأخيرة انقر على <code>حفظ</code> لإنهاء إنشاء الحساب. سيقوم أيضًا بإنشاء ملفات JSON احتياطية يجب عليك تخزينها بشكل آمن. يمكنك استخدام هذا الملف لاحقًا لاستعادة حسابك إذا تذكرت كلمة المرور.

</li>

<li>

كرر هذه الخطوات لحساب <code>SUB_CONTROLLER</code>.

</li>
</List>
</li>

<li>

إضافة الحسابات إلى تمديد Polkadot.js

<List type="numbers">

<li>

للراحة، يجب عليك استخدام امتداد Polkadot.js وإضافة هذه الحسابات الجديدة التي تم إنشاؤها إليه. بالنسبة لحساب ed25519 يمكنك فعل ذلك فقط باستخدام ملف JSON للنسخ الاحتياطي. يمكنك استخدام الملفات المحفوظة عند إنشاء الحسابات.

يمكنك الحصول على هذه الملفات مرة أخرى عن طريق إنشاء ملف نسخ احتياطي للحساب. اضغط على ثلاث نقاط على حسابك، اختر <code>إنشاء ملف نسخ احتياطي لهذا الحساب</code> واكتب كلمة المرور الخاصة بك.

<LessonVideo  :videos="[{src: 'https://crustipfs.info/ipfs/QmRd7gztUjWkLF4W2XuJwy5aXBwzNV2aPCU6CQQLvUpSNj', type:'mp4'}]" />

</li>

<li>

افتح امتدادًا واضغط على زر <code>+</code> في أعلى اليمين، ثم اختر <code>استعادة الحساب من ملف JSON للنسخ الاحتياطي</code>.

</li>

<li>

في نافذة مفتوحة، قم بتحميل ملف JSON، أدخل كلمة المرور واضغط <code>استعادة</code>.

</li>

<li>

تأكد من اختيار شبكة Robonomics للحسابات في امتداد Polkadot.js. انتقل إلى <code>الإعدادات</code> -> <code>البيانات الوصفية</code> على بوابة Polkadot / Substrate وانقر على زر <code>تحديث البيانات الوصفية</code>. 

<LessonVideo  :videos="[{src: 'https://crustipfs.info/ipfs/QmT5sTNP9t8gpbD4RJJw6ETwG4wiziiChAh2uHHBk9Zsyd', type:'mp4'}]" />

</li>

<li>

قم بتأكيد تحديث البيانات الوصفية في النافذة المنبثقة. الآن سيظهر الامتداد تسمية الشبكة التي يتم استخدام العنوان لها.

</li>

</List>
</li>

<li>

تفعيل اشتراك Robonomics

<List >

<li>

<robo-academy-note type="okay">
لهذه الخطوة، يجب أن تكون لديك كمية كافية من رموز XRT (2-3 XRTs كحد أدنى) في حسابك <code>SUB_OWNER</code>.
</robo-academy-note>

انتقل إلى تطبيق Robonomics إلى [صفحة الاشتراك](https://dapp.robonomics.network/#/subscription) واضغط على <code>ربط الحساب</code> على الشريط الجانبي الأيمن.

<LessonVideo  :videos="[{src: 'https://crustipfs.info/ipfs/QmXrFCajmJgkRDSbshGD3QehjnoyS6jafEPSjHdYkoBHum', type:'mp4'}]" />

</li>

<li>

في القائمة المنبثقة التالية، قم بربط امتداد Polkadot.js. سترى عنوان حسابك مع الرصيد.

</li>

<li>

قبل الشراء، تحقق من اختيار حساب <code>SUB_OWNER</code>. اضغط على أيقونة ملف التعريف الخاص بالعنوان، يجب أن ترى حساب <code>SUB_OWNER</code> تحت حقل <code>التحقق من حساب المالك</code>.

</li>

<li>

أخيرًا، اضغط على زر <code>إرسال</code> وأدخل كلمة المرور لحسابك. بعد ذلك انتظر حتى يتم الانتهاء من عملية التنشيط. سترى حالة اشتراكك بعد فترة.

إذا لم تتوفر أي اشتراكات، **يرجى الاتصال بفريق Robonomics**.

</li>
</List>
</li>

<li>

إضافة حساب إلى الاشتراك

<List type="numbers">

<li>

الآن تحتاج إلى إضافة حساب <code>SUB_CONTROLLER</code> إلى **قائمة الوصول**. افتح الامتداد وانقر على الرمز بجوار اسم الحساب. سيتم نسخ عنوان الحساب.

<LessonVideo  :videos="[{src: 'https://crustipfs.info/ipfs/QmV1gkwtcXsWv54ov9tuXfcHg7nqs1foM8cRwts4sqnqtX', type:'mp4'}]" />

</li>

<li>

الصق هذا العنوان في حقل <code>عنوان Robonomics parachain</code> في جزء **إدارة الوصول**.

أعطه اسمًا واضغط على زر <code>+</code>. أدخل كلمة مرور <code>SUB_OWNER</code> في نافذة العرض وانتظر حتى يتم الانتهاء من عملية التنشيط.

</li>

<li>

كرر الخطوات لحساب <code>SUB_OWNER</code>.
</li>
</List>
</li>
</List>