---
title: "Архитектура"
description: Этот курс посвящен знакомству с системой Feecc и всеми ее компонентами.
metaOptions: [Изучение, привыкание к Feecc]
defaultName: Getting Used to Feecc
---

<RoboAcademyText fWeight="500">
В этом уроке мы ближе познакомимся с архитектурой Feecc и рассмотрим все компоненты программного обеспечения.
</RoboAcademyText>

Платформа Feecc состоит из нескольких служб, от контроля рабочего места инженера до предоставления аналитики. Каждая служба отвечает за определенный функционал, необходимый для развертывания в корпоративной среде.

## Рабочее место инженера Feecc

Основная задача Рабочего места инженера - организация рабочего пространства сборочного инженера. В зависимости от задачи инженеру может понадобиться следующее оборудование:

- IP-камера для организации видеозаписи процесса производства;
- Считыватель RFID для идентификации в системе по персональной RFID-карте;
- Сканер штрих-кода для сканирования этикеток продукции;
- Принтер этикеток для маркировки произведенной продукции;
- Цифровые датчики, собирающие данные с различных устройств / станций.

Программное обеспечение Рабочего места инженера обычно состоит из следующих контейнеров. Во-первых, программное обеспечение, требующее установки **на компьютер, на котором работает сотрудник** во время сборки продукта:

1. [feecc-workbench-daemon](https://github.com/Multi-Agent-io/feecc-workbench-daemon) - сердце платформы Feecc, предоставляющее пользователям доступ ко всем функциям и конфигурациям Feecc; также содержит легковесные службы для печати этикеток с использованием принтера этикеток и записи видео из потоков RTSP;
2. [feecc-workbench-frontend](https://github.com/Multi-Agent-io/feecc-workbench-frontend) - веб-интерфейс для взаимодействия сотрудников с платформой Feecc;
3. [feecc-hid-reader-daemon](https://github.com/Multi-Agent-io/feecc-hid-reader-daemon) - Python-демон для отправки событий USB-периферийных устройств;

Во-вторых, программное обеспечение, которое можно установить **как на компьютер сотрудника, так и на сервер в локальной сети**:

1. [feecc-ipfs-gateway](https://github.com/Multi-Agent-io/feecc-ipfs-gateway) — микросервис для публикации файлов в IPFS, и более конкретно, CID файлов в сеть Robonomics;

На рисунке ниже показана архитектура Рабочего места Инженера Feecc в корпоративной среде. Шлюз IPFS (а также узел IPFS и MongoDB в виде кластерного узла) могут быть размещены на компьютере каждого сотрудника, что повысит децентрализацию системы за счет вычислительных ресурсов.

<LessonImages src="feecc-course/feecc_global_hardware.png" alt="an architecture of Feecc"/>

### Поддерживаемое оборудование для одного рабочего места:

#### Сканер RFID

Для авторизации инженеров на месте работы с их внутренними бейджами требуется USB-сканер RFID. Входящая информация обрабатывается с использованием `feecc-hid-reader-daemon`.

#### Сканер штрих-кода

USB-сканер штрих-кода необходим для идентификации продуктов по штрих-кодам, отправки команд на услуги и для правильного присвоения сертификатов. Входящая информация также обрабатывается с использованием `feecc-hid-reader-daemon`. Желательно считывание в двух измерениях, но не обязательно.

#### Компьютер сотрудника

Небольшой одноплатный компьютер обрабатывает сигналы от внешних устройств (сканер штрих-кода, сканер RFID), отправляет запросы на печать изображений на принтере, запускает и останавливает видеозапись, отправляет данные в IPFS Gateway. На нем работают следующие службы: `feecc-workbench-frontend`, `feecc-workbench-daemon` с поддержкой принтера и камеры, `feecc-hid-reader-daemon`. Требуется подключение к Интернету через Wi-Fi или LAN.
    
Следует отметить, что вместо одноплатного компьютера с монитором можно использовать любой компьютер. На нем должна быть установлена операционная система GNU/LINUX нативно или через виртуальную машину.
    
Минимальные технические характеристики:
    
- Процессор: Broadcom BCM2711, четырехъядерный Cortex-A72 (ARM v8) 64-битный SoC @ 1.8GHz или аналогичный;
- ОЗУ: 4GB LPDDR4-3200 или аналогичный.

#### Экран

Монитор используется сотрудником для ввода и просмотра информации о текущем производственном этапе. Он также отображает подсказки для инженера на текущем этапе. Другие устройства ввода также могут быть использованы.

#### Принтер для этикеток

Принтер для печати QR-кодов и штрих-кодов для дальнейшего размещения этикеток на изделии для идентификации и верификации. Взаимодействие с принтером осуществляется с помощью соответствующего сервиса `feecc-workbench-daemon`. В нашем случае мы используем принтеры XPrinter 236B.

#### IP-камера

IP-камера для захвата производственных процессов для включения в сертификат продукта. Расположена над зоной сборки продукта. Взаимодействие с камерой выполняется с использованием соответствующего сервиса `feecc-workbench-daemon`.

Требуемые технические характеристики: питание через PoE, протокол передачи данных RTSP. В нашем случае мы используем Hikvision HiWatch DS-i200d.

### Поддерживаемое оборудование для нескольких рабочих мест:

#### Маршрутизатор или коммутатор

Требуется маршрутизатор или коммутатор с поддержкой PoE 802.3af и питанием PoE на выходных портах для питания IP-камер и их подключения к сервису `feecc-workbench-daemon`. В нашем случае мы используем MikroTik hEX PoE (один на 3-4 рабочих места) и блок питания.

#### Сервер (опционально)

Также можно установить более крупный сервер, который может запускать `feecc-ipfs-gateway`. Он может быть размещен на месте одного из компьютеров рабочих мест сотрудников. 

Минимальные технические характеристики:

- Процессор: Intel Xeon E-2200 или аналогичный;
- ОЗУ: 8 ГБ;
- Хранилище: 1 ТБ HDD;
- Интерфейс LAN: 1 Гбит/с.

## Feecc Analytics

Основная задача Feecc Analytics заключается в организации процесса отслеживаемости готовой продукции и их предпродажной проверки в отделе контроля продукции.

Feecc Analytics зависит от следующих контейнеров:

1. [feecc-analytics-backend](https://github.com/Multi-Agent-io/feecc-analytics-backend) — основное программное обеспечение для развертывания аналитического сервиса;
2. [feecc-analytics-frontend](https://github.com/Multi-Agent-io/feecc-analytics-frontend) — программное обеспечение для фронтенда аналитического сервиса;

Обычно развертывается на одном сервере локально для обеспечения безопасности данных только внутри организации.

Для работы Feecc Analytics требуется локальный или удаленный сервер (виртуальная машина), на котором будет работать веб-приложение и сканер штрих-кодов. Каждый авторизованный сотрудник может получить доступ к веб-приложению с его/ее компьютера с помощью имени пользователя и пароля.

## Feecc Validator

Основная задача Feecc Validator заключается в сравнении данных из разных хранилищ данных для проверки целостности цифрового сертификата продукта.

Feecc Validator зависит от следующих контейнеров:

1. [feecc-validator-backend](https://github.com/Multi-Agent-io/feecc-validator-backend) — микросервис, предназначенный для обработки проверки сертификатов и получения данных, связанных с блоком, предоставленным пользователем только одного из кусков данных;
2. [feecc-validator-frontend](https://github.com/Multi-Agent-io/feecc-validator-frontend) — веб-интерфейс для взаимодействия с микросервисом проверки.

Как и Feecc Analytics, его можно развернуть на одном сервере локально и требует сканера штрих-кодов.

<RoboAcademyText fWeight="500">
На следующем уроке мы более подробно рассмотрим систему Feecc через небольшое демо, которое будет запущено локально на вашем компьютере.
</RoboAcademyText>