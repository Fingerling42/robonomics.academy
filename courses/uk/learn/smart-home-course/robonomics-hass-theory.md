---
title: "Урок №1, Теоретична брифінг"
lastUpdate: Thu May 04 2023 12:54:41 GMT+0400 (Samara Standard Time)
description: курс домашнього асистента
lessonNumber: 1
metaOptions: [Вивчайте, Суверенний Розумний Дім з Robonomics та Домашнім Асистентом]
defaultName: Sovereign Smart Home with Robonomics and Home Assistant
---

## Ключові компоненти суверенного розумного будинку 

<List>

1. **[Raspberry Pi](https://www.raspberrypi.org/), одноплатний комп'ютер**.

Ми можемо перетворити пристрій в хаб Інтернету речей після встановлення всього необхідного програмного забезпечення. Основна мета хабу - оркеструвати протоколи, мережі, додатки та різні пристрої розумного будинку.

2. **[Home Assistant](https://www.home-assistant.io/), відкрите програмне забезпечення для управління системою**.

Він призначений для центрального хабу для розумних пристроїв. Він може автоматично сканувати мережу для відомих пристроїв і дозволяє користувачам легко налаштувати всі необхідні автоматизації. Ми встановимо Home Assistant на Raspberry Pi.

Home Assistant спілкується з пристроями та зберігає їх дані локально, що, на жаль, не дозволяє вам дистанційно керувати пристроями. Для вирішення цієї проблеми ми використовуємо Robonomics Network.

3. **[Robonomics Network](https://robonomics.network/), децентралізований хмарний сервіс для безпечного та надійного управління застосунками Інтернету речей**.

Він використовує технології web3, які поєднують децентралізацію та технології блокчейн для захисту розумних пристроїв та їх даних.

Основна функціональність Robonomics реалізована на основі блокчейну (парачейну) екосистеми Polkadot/Kusama. Серед основних функцій парачейну є можливість відправити команду на запуск пристрою та можливість зберігати дані користувача на блокчейні.

Парачейн Robonomics має функцію підписки на Інтернет речей, яка дозволяє користувачам відправляти транзакції на парачейн без комісії протягом одного місяця. У практичній частині цього курсу ви будете використовувати метод підписки.

Взаємодія між хабом Інтернету речей та парачейном Robonomics здійснюється за допомогою [robonomics-interface](https://github.com/Multi-Agent-io/Robonomics-interface) — бібліотеки Python, яка спеціалізується на взаємодії з Robonomics для зручного програмування.

4. **[InterPlanetary File System](https://ipfs.tech/) (IPFS), програмне забезпечення peer-to-peer для зберігання та обміну даними в розподіленій файловій системі**.

IPFS необхідний для уникнення зберігання великих файлів на блокчейні (оскільки це було б занадто дорого), але замість цього ми можемо зберігати хеші IPFS файлів, які діють як посилання на ці файли.

## Протоколи для розумних пристроїв
Ви будете використовувати два основні протоколи для розумних пристроїв:

1. **[Zigbee](https://csa-iot.org/all-solutions/zigbee/), бездротовий протокол зв'язку.**

Він дуже часто використовується для підключення розумних пристроїв. Він розроблений для низького споживання енергії, легкості використання та гнучкості конфігурації, підтримує самоорганізацію та самовідновлення мережевої топології мережі-сітки. На ринку доступно тисячі пристроїв з підтримкою Zigbee, що робить його дуже привабливим для створення рішень для розумного будинку. Для управління пристроями Zigbee вам потрібен шлюз, який передає дані між мережею Zigbee та іншою мережею (наприклад, Wi-Fi).

2. **[Message Queuing Telemetry Transport](https://mqtt.org/) (MQTT), протокол публікації-підписки, призначений для управління додатками Інтернету речей.**

Протокол є легким, вимагає мінімальних ресурсів та гарантує надійність доставки повідомлень. Протокол розроблений для мереж з низькою пропускною здатністю, високою затримкою та ненадійністю, що робить його відмінним варіантом для роботи з великими обсягами повідомлень від датчиків. MQTT вимагає сервера, який працює з брокером MQTT (у нашому випадку він буде працювати з нашим Raspberry Pi). Брокер отримує всі повідомлення від клієнтів MQTT, а потім маршрутизує їх до відповідних підписуючих клієнтів.

## Параметри підключення Zigbee
Ви дослідите два сценарії підключення пристроїв до Home Assistant з використанням Robonomics.

1. У першому сценарії не використовується окремий шлюз Zigbee для підключення пристроїв. Замість цього використовується комбінація [адаптера Zigbee](https://www.zigbee2mqtt.io/guide/adapters/) та програмного забезпечення [Zigbee2MQTT](https://www.zigbee2mqtt.io/guide/adapters/).

<LessonImages figure figureCaption="Architectural scheme of the scenario with Zigbee adapter" src="smart-house-course/lesson-1-1.png" alt="Architectural scheme of the scenario with Zigbee adapter"/>

Адаптер (наприклад, JetHome USB JetStick Z2) підключається до Raspberry Pi та діє як інтерфейс між комп'ютером та бездротовим зв'язком Zigbee. Zigbee2MQTT - це програмне забезпечення, яке дозволяє підключати Zigbee до мереж MQTT. Воно отримує повідомлення з мережі Zigbee та перекладає їх в легкі та добре структуровані повідомлення MQTT.

2. У другому сценарії пристрої підключаються за допомогою [SLS Gateway](https://github.com/slsys/Gateway) на основі мікроконтролера ESP32. Для зручності використання Robonomics розробили [власну модифікацію](https://oshwlab.com/ludovich88/robonomics_sls_gateway_v01) шлюзу.

<LessonImages figure figureCaption="Architectural scheme of the scenario with SLS Gateway" src="smart-house-course/lesson-1-2.png" alt="Architectural scheme of the scenario with SLS Gateway"/>

Шлюз SLS діє як координатор повідомлень протоколу Zigbee та дозволяє використовувати більшість доступного обладнання Zigbee. Для інтеграції з Home Assistant використовується протокол MQTT.

## Віддалене управління

Віддалене управління розумним будинком здійснюється за допомогою [децентралізованого додатку Robonomics](https://dapp.robonomics.network/) (dapp), який надає доступ до функцій паралелей способом, зручним для користувача. Безпека та незмінність даних користувача забезпечується з одного боку відправленням зашифрованих даних на IPFS (які можуть бути розшифровані тільки ключем користувача), а з іншого боку розміщенням хешу IPFS цих даних на блокчейні.

</List>



